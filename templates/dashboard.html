<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT RC Car Monitoring Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-dy9e6h8RL9O/i6UAB8vTMpqwe9YcJh+qR5Wcwdi73QOxt30GxG9wE0qZ6xzt06FbFQFwz6YNLnE+bi3IJ6ubxg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="d-flex">
        <!-- Sidebar -->
        {% include 'sidebar.html' %}

        <!-- Main Content -->
        <div class="container mt-5" style="margin-left: 300px;">
            <h1 class="text-center mb-4">IoT RC Car Monitoring Dashboard</h1>

            <!-- API Data - GET ALL -->
            <h2>API Data - GET ALL</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Speed</th>
                        <th>Battery</th>
                        <th>Timestamp</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in data.api_data.get_all.data %}
                    <tr>
                        <td>{{ entry.id }}</td>
                        <td>{{ entry.speed }}</td>
                        <td>{{ entry.battery }}</td>
                        <td>{{ entry.timestamp }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <!-- API Data - GET MAX -->
            <h2>API Data - GET MAX</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Max Speed</th>
                        <th>Date Max Speed</th>
                        <th>Max Battery</th>
                        <th>Date Max Battery</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ data.api_data.get_max.data.max_speed }}</td>
                        <td>{{ data.api_data.get_max.data.date_max_speed }}</td>
                        <td>{{ data.api_data.get_max.data.max_battery }}</td>
                        <td>{{ data.api_data.get_max.data.date_max_battery }}</td>
                    </tr>
                </tbody>
            </table>

            <!-- API Data - GET MIN -->
            <h2>API Data - GET MIN</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Min Speed</th>
                        <th>Date Min Speed</th>
                        <th>Min Battery</th>
                        <th>Date Min Battery</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ data.api_data.get_min.data.min_speed }}</td>
                        <td>{{ data.api_data.get_min.data.date_min_speed }}</td>
                        <td>{{ data.api_data.get_min.data.min_battery }}</td>
                        <td>{{ data.api_data.get_min.data.date_min_battery }}</td>
                    </tr>
                </tbody>
            </table>

            <!-- API Data - GET AVG -->
            <h2>API Data - GET AVG</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Avg Speed</th>
                        <th>Avg Battery</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ data.api_data.get_avg.data.avg_speed }}</td>
                        <td>{{ data.api_data.get_avg.data.avg_battery }}</td>
                        <td>{{ data.api_data.get_avg.date_range.start_date }}</td>
                        <td>{{ data.api_data.get_avg.date_range.end_date }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
